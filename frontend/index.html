<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title data-i18n="title">Bovine Disease Detection ‚Äì FMD & Mastitis Analysis System</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://unpkg.com/i18next@21.9.0/i18next.min.js"></script>
  <script src="https://unpkg.com/i18next-http-backend@1.4.3/i18nextHttpBackend.min.js"></script>
  <script src="https://unpkg.com/i18next-browser-languagedetector@6.1.4/i18nextBrowserLanguageDetector.min.js"></script>
  <script src="/js/i18n-setup.js"></script>
</head>
<body>
  <header class="main-header">
    <div class="header-content">
      <h1 id="title" data-i18n="title">Bovine Disease Detection System</h1>
      <p class="subtitle" id="subtitle" data-i18n="subtitle">FMD & Mastitis Analysis</p>
    </div>
    <div class="header-image">
      <img id="site-logo" src="logo.png" alt="Veterinary Icon" class="logo">
    </div>
  </header>

  <div class="container">
    <!-- Step 1: Disease Selection -->
    <div id="step1" class="step">
      <h2 data-i18n="select_disease">Select Disease</h2>
      <select id="disease">
        <option value="">--<span data-i18n="select">Select</span>--</option>
        <option value="mastitis" data-i18n="mastitis">Mastitis</option>
        <option value="fmd" data-i18n="fmd">Foot & Mouth Disease (FMD)</option>
      </select>
      <div class="button-group">
        <button onclick="goToStep2()" data-i18n="next">Next</button>
      </div>
    </div>

    <!-- Step 2: Input Type Selection -->
    <div id="step2" class="step hidden">
      <h2 data-i18n="select_input">Select Input Types</h2>
      <div id="mastitis-options" class="hidden">
        <div class="checkbox-group">
          <label><input type="checkbox" name="mastitisInput" value="text"> <span data-i18n="text_data">Text Data</span></label>
          <label><input type="checkbox" name="mastitisInput" value="image"> <span data-i18n="udder_image">Udder Image</span></label>
        </div>
      </div>

      <div id="fmd-options" class="hidden">
        <h3 data-i18n="text_data">Text Data</h3>
        <div class="checkbox-group">
          <label><input type="checkbox" name="fmdTextInput" value="foot"> <span data-i18n="foot_symptoms">Foot Symptoms</span></label>
          <label><input type="checkbox" name="fmdTextInput" value="mouth"> <span data-i18n="mouth_symptoms">Mouth Symptoms</span></label>
        </div>
        
        <h3 data-i18n="images">Images</h3>
        <div class="checkbox-group">
          <label><input type="checkbox" name="fmdImageInput" value="foot"> <span data-i18n="foot_image">Foot Image</span></label>
          <label><input type="checkbox" name="fmdImageInput" value="mouth"> <span data-i18n="mouth_image">Mouth Image</span></label>
        </div>
      </div>
      <div class="button-group">
        <button onclick="goBackToStep1()" data-i18n="back">Back</button>
        <button onclick="goToStep3()" data-i18n="next">Next</button>
      </div>
    </div>

    <!-- Step 3: Data Entry -->
    <div id="step3" class="step hidden">
      <h2 data-i18n="provide_input">Provide Input</h2>
      <form id="inputForm">
        <div id="textFields"></div>
        <div id="imageFields"></div>
        <div class="button-group">
          <button type="button" onclick="goBackToStep2()" data-i18n="back">Back</button>
          <button type="submit" class="predict-button" data-i18n="predict">Predict</button>
        </div>
      </form>
    </div>

    <!-- Step 4: Results -->
    <div id="step4" class="step hidden">
      <h2 data-i18n="prediction_results">Prediction Results</h2>
      <div id="resultDisplay"></div>
      <div class="button-group">
        <button onclick="goBackToStep3()" data-i18n="back">Back</button>
        <button onclick="restartProcess()" data-i18n="new_prediction">Start New Prediction</button>
        <button id="downloadBtn" onclick="generatePDF()" data-i18n="download_report">Download Report</button>
      </div>
    </div>
  </div>
  
  <div class="chatbot-container">
    <button class="chatbot-toggle" onclick="toggleChatbot()" data-i18n="chatbot">Chatbot</button>
    <div class="chatbot" id="chatbot">
      <div class="chatbot-header" data-i18n="chatbot_title">Ask About Mastitis or FMD</div>
      <div class="chatbot-messages" id="chatbot-messages"></div>
      <div class="chatbot-input">
        <input type="text" id="chatbot-input" placeholder="Type your question here" data-i18n="chatbot_placeholder">
        <button onclick="sendChatbotMessage()" data-i18n="send">Send</button>
      </div>
    </div>
  </div>

<div class="language-switcher-container">
  <span class="language-icon">üåê</span>
  <select id="languageSwitcher">
    <option value="en">English</option>
    <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
    <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
  </select>
</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
  // Make jsPDF available globally
  window.jsPDF = window.jspdf.jsPDF;
</script>
  <script src="script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>
  <!-- <script src="https://cdn.jotfor.ms/s/umd/latest/for-embedded-agent.js"></script>
  <script>
    window.addEventListener("DOMContentLoaded", function() {
      window.AgentInitializer.init({
        rootId: "JotformAgent-01980cf54e1373a9b4f9c4c6525b3f0902e0",
        formID: "01980cf54e1373a9b4f9c4c6525b3f0902e0",
        queryParams: ["skipWelcome=1", "maximizable=1"],
        domain: "https:\/\/www.jotform.com",
        isInitialOpen: false,
        isDraggable: false,
        background: "linear-gradient(180deg, #6C73A8 0%, #6C73A8 100%)",
        buttonBackgroundColor: "#0066C3",
        buttonIconColor: "#FFFFFF",
        variant: false,
        customizations: {
          greeting: "Yes",
          greetingMessage: "Hi! How can I assist you?",
          pulse: "Yes",
          position: "right"
        }
      });
    });
  </script>
  <script src='https://cdn.jotfor.ms/agent/embedjs/01980cf54e1373a9b4f9c4c6525b3f0902e0/embed.js?skipWelcome=1&maximizable=1'></script> -->
